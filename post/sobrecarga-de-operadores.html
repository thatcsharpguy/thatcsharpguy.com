<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-translate-customization" content="108d9124921d80c3-80e20d618ff053c8-g4f02ec6f3dba68b7-c"></meta>
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#2176ff">
<meta name="msapplication-TileColor" content="#00aba9">
<meta name="theme-color" content="#ffffff">
<title>Sobrecarga de operadores | That C# guy</title>
<!-- Search Engine -->
<meta name="description" content="Suma, resta, divide, multiplica, compara... todos los tipos de dato que crees para tus aplicaciones, todo gracias a la sobrecarga de operadores que ofrece C&#35;">
<meta name="image" content="">
<!-- Schema.org for Google -->
<meta itemprop="name" content="Sobrecarga de operadores">
<meta itemprop="description" content="Suma, resta, divide, multiplica, compara... todos los tipos de dato que crees para tus aplicaciones, todo gracias a la sobrecarga de operadores que ofrece C&#35;">
<meta itemprop="image" content="">
<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Sobrecarga de operadores">
<meta name="twitter:description" content="Suma, resta, divide, multiplica, compara... todos los tipos de dato que crees para tus aplicaciones, todo gracias a la sobrecarga de operadores que ofrece C&#35;">
<meta name="twitter:site" content="@thatcsharpguy">
<meta name="twitter:creator" content="@io_exception">
<meta name="twitter:image" content="">
<!-- Open Graph general (Facebook, Pinterest & Google+) -->
<meta name="og:title" content="Sobrecarga de operadores">
<meta name="og:description" content="Suma, resta, divide, multiplica, compara... todos los tipos de dato que crees para tus aplicaciones, todo gracias a la sobrecarga de operadores que ofrece C&#35;">
<meta name="og:image" content="">
<meta name="og:url" content="https://thatcsharpguy.com/post/sobrecarga-de-operadores">
<meta name="og:site_name" content="That C# guy">
<meta name="og:locale" content="es">
<meta name="og:type" content="website">
  <script src="https://kit.fontawesome.com/0271495296.js" crossorigin="anonymous"></script>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,400;0,700;1,400;1,700&family=Open+Sans:ital,wght@0,300;0,400;0,600;0,800;1,400;1,800&display=swap" rel="stylesheet">
  <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-noto-sans@0.0.72/index.min.css"> -->
  <link rel="stylesheet" href="/css/main.css">
  <script src="/js/main.js"></script>
<link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
<!-- and it's easy to individually load additional languages -->
<script charset="UTF-8"
        src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/languages/go.min.js"></script>

















<script>
// Init highlight js
document.addEventListener('DOMContentLoaded', function(event) {
  var els = document.querySelectorAll('pre code')

  function addLangData(block) {
    var outer = block.parentElement.parentElement.parentElement;
    var lang = block.getAttribute('data-lang');
    for (var i = 0; i < outer.classList.length; i++) {
      var cls = outer.classList[i];
      if (cls.startsWith('language-')) {
        lang = cls;
        break;
      }
    }
    if (!lang) {
      cls = block.getAttribute('class');
      lang = cls ? cls.replace('hljs ', '') : '';
    }
    if (lang.startsWith('language-')) {
      lang = lang.substr(9);
    }
    block.setAttribute('class', 'hljs ' + lang);
    block.parentNode.setAttribute('data-lang', lang);
  }

  function addBadge(block) {
    var enabled = ('' || 'true').toLowerCase();
    if (enabled == 'true') {
      var pre = block.parentElement;
      pre.classList.add('badge');
    }
  }

  function handle(block) {
    addLangData(block);
    addBadge(block)
    hljs.highlightBlock(block);
  }

  for (var i = 0; i < els.length; i++) {
    var el = els[i];
    handle(el);
  }
});
</script>

<style>
  /* code language badge */
  pre.badge::before {
    content: attr(data-lang);
    color: ;
    background-color: ;
    padding: 0 .5em;
    border-radius: 0 2px;
    text-transform: ;
    text-align: center;
    min-width: 32px;
    display: inline-block;
    position: absolute;
    right: 0;
  }

  /* fix wrong badge display for firefox browser */
  code > table pre::before {
    display: none;
  }
</style>
</head>


  <body>


<header class="site-header " role="banner">

  <div class="wrapper">
    <div class="site-header-inner">

      <span class="site-brand">
<a class="site-brand-inner" rel="author" href="/">
  <img class="site-favicon" title="That C# guy" src="" onerror="this.style.display='none'">
  That C# guy
</a>
      </span>

      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
            <a class="page-link" href="https://github.com/fferegrino">GitHub</a>
            <a class="page-link" href="https://twitter.com/io_exception">Twitter</a>
            <a class="page-link" href="https://youtube.com/thatcsharpguy">YouTube</a>
            <a class="page-link" href="https://tcsg.dev/discord">Discord</a>

            <span class="page-link">

  <div id="google_translate_element" style="display: none;"></div>
  <span class="ct-language">
     <ul class="list-unstyled ct-language-dropdown">
       <li>
          <a href="#" class="lang-select" data-lang="es">
          <img src="https://www.countryflags.io/mx/flat/64.png" title="México">
          </a>
       </li>
        <li>
           <a href="#" class="lang-select" data-lang="en">
           <img src="https://www.countryflags.io/gb/flat/64.png" title="English">
           </a>
        </li>
        <li>
           <a href="#" class="lang-select" data-lang="fr">
           <img src="https://www.countryflags.io/fr/flat/64.png" title="Franch">
           </a>
        </li>
        <li>
           <a href="#" class="lang-select" data-lang="zh-CN">
           <img src="https://www.countryflags.io/cn/flat/64.png" title="Chinese(Simple)">
           </a>
        </li>
        <li>
           <a href="#" class="lang-select" data-lang="ja">
           <img src="https://www.countryflags.io/jp/flat/64.png" title="Japan">
           </a>
        </li>
        <li>
           <a href="#" class="lang-select" data-lang="ko">
           <img src="https://www.countryflags.io/kr/flat/64.png" title="Korean">
           </a>
        </li>
        <li>
           <a href="#" class="lang-select" data-lang="ru">
           <img src="https://www.countryflags.io/ru/flat/64.png" title="Russia">
           </a>
        </li>
     </ul>
  </span>
  <script type="text/javascript">
     function googleTranslateElementInit() {
       new google.translate.TranslateElement({
         pageLanguage: '',
         autoDisplay: false,
         layout: google.translate.TranslateElement.InlineLayout.VERTICAL
       }, 'google_translate_element');
     
       function restoreLang() {
         var iframe = document.getElementsByClassName('goog-te-banner-frame')[0];
         if (!iframe) return;
     
         var innerDoc = iframe.contentDocument || iframe.contentWindow.document;
         var restore_el = innerDoc.getElementsByTagName("button");
     
         for (var i = 0; i < restore_el.length; i++) {
           if (restore_el[i].id.indexOf("restore") >= 0) {
             restore_el[i].click();
             var close_el = innerDoc.getElementsByClassName("goog-close-link");
             close_el[0].click();
             return;
           }
         }
       }
     
       function triggerHtmlEvent(element, eventName) {
         var event;
         if (document.createEvent) {
           event = document.createEvent('HTMLEvents');
           event.initEvent(eventName, true, true);
           element.dispatchEvent(event);
         } else {
           event = document.createEventObject();
           event.eventType = eventName;
           element.fireEvent('on' + event.eventType, event);
         }
       }
     
       var googleCombo = document.querySelector("select.goog-te-combo");
       var langSelect = document.querySelector('.ct-language');
       langSelect.addEventListener('click', function(event) {
         if (!event.target) {
           return;
         }
     
         var selected = document.querySelector('.ct-language .ct-language-selected');
         if (selected) {
           selected.classList.remove('ct-language-selected');
         }
     
         var target = event.target;
         while (target && target !== langSelect ) {
           if (target.matches('.lang-select')) {
             break;
           }
           target = target.parentElement;
         }
     
         if (target && target.matches('.lang-select')) {
           var lang = target.getAttribute('data-lang');
           if (lang == "es") {
             restoreLang();
           } else {
             target.parentElement.classList.add('ct-language-selected');
             googleCombo.value = lang;
             triggerHtmlEvent(googleCombo, 'change');
           }
         }
     
         event.preventDefault();
       });
     }
  </script>
  <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</span>            </span>
            
        </div>
      </nav>
    </div>
  </div>
</header>

<script>
  (function() {
    var lastScrollY = getScrollPos().y;
    var documentElement = document.documentElement;

    function storeScrollData() {
      var y = getScrollPos().y;


      var scrollStatus = "";

      if (y <= 0) {
        scrollStatus = "top";
      } else if ((window.innerHeight + y) >= document.body.offsetHeight) {
        scrollStatus = "bottom";
      } else {
        var isScrollDown = (y - lastScrollY > 0) ? true : false;
        scrollStatus = isScrollDown ? "down" : "up";
      }

      lastScrollY = y;
      documentElement.setAttribute("data-scroll-status", scrollStatus);
    }

    window.addEventListener('scroll', function(e) {
      storeScrollData();
    });

    storeScrollData();
  })();
</script>























<script>
  function hashLocate(hashValue) {
    hashValue = hashValue.replace(/^.*#h-/, '');
    var element = document.getElementById(hashValue);

    if (!element) {
      return;
    }

    var header = document.querySelector('header.site-header');
    var headerRect = header.getBoundingClientRect();
    var headerTop = Math.floor(headerRect.top);
    var headerHeight = Math.floor(headerRect.height);
    var scrollPos = getScrollPos();
    var offsetY = element.offsetTop - (headerTop + headerHeight + 20);

    if (offsetY == scrollPos.y) {
      return;
    }

    if (headerTop == 0  && offsetY > scrollPos.y) {
      offsetY += headerHeight + 2;
    } else if (headerTop < 0  && offsetY < scrollPos.y) {
      offsetY -= headerHeight - 2;
    }

    smoothScrollTo(offsetY);
  }

  // The first event occurred
  window.addEventListener('load', function(event) {
    if (window.location.hash) {
      hashLocate(window.location.hash);
    }
  });

  // The first event occurred
  window.addEventListener('click', function(event) {
    if (event.target.tagName.toLowerCase() == 'a') {
      hashLocate(event.target.getAttribute('href'));
    }
  });
</script>

<div class="theme-toggle">
  <input type="checkbox" id="theme-switch">
  <label for="theme-switch">
    <div class="toggle"></div>
    <div class="names">
      <p class="light"><i class="fas fa-sun"></i></p>
      <p class="dark"><i class="fas fa-moon"></i></p>
    </div>
  </label>
</div>





<script>
  (function() {
    var sw = document.getElementById('theme-switch');
    var html = document.getElementsByTagName('html')[0];
    var nightModeOption = ('' || 'auto').toLowerCase();
    var storage = nightModeOption === 'manual'
        ? localStorage
        : sessionStorage;
    var themeData = loadThemeData();

    function saveThemeData(data) {
      storage.setItem('theme', JSON.stringify(data));
    }

    function loadThemeData() {
      var data = storage.getItem('theme');
      try {
        data = JSON.parse(data ? data : '');
      } catch(e) {
        data = { nightShift: undefined, autoToggleAt: 0 };
        saveThemeData(data);
      }
      return data;
    }

    function handleThemeToggle(nightShift) {
      themeData.nightShift = nightShift;
      saveThemeData(themeData);
      html.dataset.theme = nightShift ? 'dark' : 'light';
      setTimeout(function() {
        sw.checked = nightShift ? true : false;
      }, 50);
    }

    function autoThemeToggle() {
      // Next time point of theme toggle
      var now = new Date();
      var toggleAt = new Date();
      var hours = now.getHours();
      var nightShift = hours >= 19 || hours <=7;

      if (nightShift) {
        if (hours > 7) {
          toggleAt.setDate(toggleAt.getDate() + 1);
        }
        toggleAt.setHours(7);
      } else {
        toggleAt.setHours(19);
      }

      toggleAt.setMinutes(0);
      toggleAt.setSeconds(0);
      toggleAt.setMilliseconds(0)

      var delay = toggleAt.getTime() - now.getTime();

      // auto toggle theme mode
      setTimeout(function() {
        handleThemeToggle(!nightShift);
      }, delay);

      return {
        nightShift: nightShift,
        toggleAt: toggleAt.getTime()
      };
    }

    // Listen the theme toggle event
    sw.addEventListener('change', function(event) {
      handleThemeToggle(event.target.checked);
    });

    if (nightModeOption == 'auto') {
      var data = autoThemeToggle();

      // Toggle theme by local setting
      if (data.toggleAt > themeData.autoToggleAt) {
        themeData.autoToggleAt = data.toggleAt;
        handleThemeToggle(data.nightShift);
      } else {
        handleThemeToggle(themeData.nightShift);
      }
    } else if (nightModeOption == 'manual') {
      handleThemeToggle(themeData.nightShift);
    } else {
      var nightShift = themeData.nightShift;
      if (nightShift === undefined) {
        nightShift = nightModeOption === 'on';
      }
      handleThemeToggle(nightShift);
    }
  })();
</script>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        
<div class="framework">
  <section class="main">
     
<div class="post">
  <section>
    

<header class="post-header">
  <h1 class="post-title p-name" itemprop="name headline">Sobrecarga de operadores</h1>
  <!-- <h3 class="post-subtitle">Ingenier&#237;a de software + Ciencia de datos + MLOps</h3> -->

  <p class="post-meta">
    <time class="dt-published" datetime="" itemprop="datePublished">
      <i class="fas fa-calendar"></i> December 20, 2016
    </time>
    
    <span class="post-reading-time left-vsplit"><i class="fas fa-user"></i> Antonio Feregrino</span>
  </p>

  <div class="post-tags">
    <!-- <a class="post-tag" href="/tag/aprendecsharp">#aprendecsharp</a> -->
    <a class="post-tag" href="#">#aprendecsharp</a>
  </div>

</header>

    <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
      <div class="post-content e-content" itemprop="articleBody">
         
<p>Hoy toca hablar de una de las características menos usadas (porque en teoría es mejor no usarlas) de C#.</p>
<p>Sobrecargar operadores nos ayudará a emplear los operadores comunes como <code>+</code>, <code>-</code>, <code>==</code> para nuestros los tipos de dato que creamos para nuestra aplicación. Pero antes de entrar en el tema, pongámonos un poco festivos y creemos una clase llamada <code>Toy</code> que representará un juguete, el cual debe tener un precio y un nombre:</p>
<pre><code class="language-csharp">public class Toy
{
    public string Name { get; set; }
    public double Price { get; set; }
    // ...
</code></pre>
<p>Creamos unos cuantos juguetes:</p>
<pre><code class="language-csharp">var buzzLightyear = new Toy { Name = &quot;Buzz&quot;, Price = 20 };
var woody = new Toy { Name = &quot;Woody&quot;, Price = 20 };
var dory = new Toy { Name = &quot;Dory&quot;, Price = 15 };
var marlin = new Toy { Name = &quot;Marlin&quot;, Price = 15 };
var nemo = new Toy { Name = &quot;Nemo&quot;, Price = 15 };
var mikey = new Toy { Name = &quot;Michelangelo&quot;, Price = 25 };
var leo = new Toy { Name = &quot;Leonardo&quot;, Price = 25 };
var donny = new Toy { Name = &quot;Donatello&quot;, Price = 25 };
var raph = new Toy { Name = &quot;Raphael&quot;, Price = 25 };
var splinter = new Toy { Name = &quot;Master Splinter&quot;, Price = 30 };
</code></pre>
<h2 id="intro">Intro</h2>
<p>Ahora, en la aplicación que estamos desarrollando necesitamos saber si dos juguetes son iguales, o si uno es más caro que el otro. Nos queda claro que siempre podríamos hacer comparaciones como <code>buzzLightyear.Price &gt; woody.Price</code> para saber si uno vale más que el otro... pero, ¿y si mejor sobrecargamos el operador <code>&gt;</code> para poder comparar los juguetes directamente?</p>
<p>Para sobrecargar un operador es necesario escribir unas líneas de código parecidas a cuando definimos un método público estático en una clase:</p>
<pre><code class="language-csharp">public static bool operator &lt;(Toy a, Toy b)
{
    return a.Price &lt; b.Price;
}
</code></pre>
<p>Como puedes ver tenemos los modificadores <code>public</code> y <code>static</code>, junto con el tipo de retorno (que es <code>bool</code>) y la palabra clave <code>operator</code> seguida del operador que queremos sobrecargar. Este &quot;método&quot; recibe dos parámetros de los cuales uno de ellos debe ser el tipo en el que está definido (en este caso <code>Toy</code>).</p>
<p>Por ejemplo, podríamos sobrecargar <code>&lt;</code> de esta manera:</p>
<pre><code class="language-csharp">public static bool operator &lt;(Toy a, double price)
</code></pre>
<p>Para poder comparar un <code>Toy</code> contra un valor de tipo doble: <code>leo &lt; 10d</code>, es importante que tomes en cuenta que únicamente puedes comparar &quot;Toy &lt; Double&quot; y no &quot;Double &lt; Toy&quot;, para esto deberías sobrecargar nuevamente el operador pero invirtiendo el orden de los parámetros (<code>&lt;(double price, Toy a)</code>).</p>
<h3 id="operadores-sobrecargables">Operadores sobrecargables</h3>
<p>Los operadores que pueden ser sobrecargados son los siguientes:</p>
<table>
    <tr>
        <td><b>Operadores</b></td>
        <td><b>Tipo</b></td>
    </tr>
    <tr>
        <td>+, -, !, ~, ++, --, true, false</td>
        <td>Unarios</td>
    </tr>
    <tr>
        <td>+, -, *, /, %, &amp;, |, ^, &lt;&lt;, &gt;&gt;</td>
        <td>Binarios</td>
    </tr>
    <tr>
        <td>==, !=, &lt;, &gt;, &lt;=, &gt;=</td>
        <td>Comparación*</td>
    </tr>
</table>
<h3 id="operadores-complementarios">*Operadores complementarios</h3>
<p>Los operadores de comparación son un caso muy peculiar, ya que es necesario siempre sobrecargarlos en pares: <code>=</code> y <code>!=</code>, <code>&lt;</code> y <code>&gt;</code>, <code>&lt;=</code> y <code>&gt;=</code>. Es decir, en nuestro ejemplo anterior también debemos crear una sobrecarga así:</p>
<pre><code class="language-csharp">public static bool operator &gt;(Toy a, Toy b)
{
    // ...
</code></pre>
<p>Ya que de no hacerlo, nuestro programa no compilaría.</p>
<p>En el código de ejemplo que puedes descargar de GitHub están todos los operadores de comparación sobrecargados, gracias a lo cual podemos ejecutar código como el siguiente:</p>
<pre><code class="language-csharp">Console.WriteLine(dory.Name + &quot;&gt;&quot; + woody.Name + &quot;: &quot; + (dory &gt; woody));
Console.WriteLine(dory.Name + &quot;&lt;&quot; + woody.Name + &quot;: &quot; + (dory &lt; woody));
Console.WriteLine(buzzLightyear.Name + &quot;==&quot; + woody.Name + &quot; = &quot; + (buzzLightyear == woody));
Console.WriteLine(dory.Name + &quot;==&quot; + woody.Name + &quot;: &quot; + (dory == woody));
Console.WriteLine(splinter.Name + &quot;&gt;=&quot; + woody.Name + &quot;: &quot; + (splinter &gt;= woody));
Console.WriteLine(leo.Name + &quot;&lt;=&quot; + raph.Name + &quot;: &quot; + (leo &lt;= raph));
</code></pre>
<p>Que imprimirá:</p>
<pre>
Dory>Woody: False
Dory<Woody: True
Buzz==Woody = True
Dory==Woody: False
Master Splinter>=Woody: True
Leonardo<=Raphael: True
</pre>
<h2 id="mas-sobrecargas">Más sobrecargas</h2>
<p>Ahora, supón que tu aplicación también debe poder generar paquetes de juguetes, que representaremos con la clase <code>Bundle</code> (que <a href="../yield-c-sharp">implementa IEnumerable</a>):</p>
<pre><code class="language-csharp">public class Bundle : IEnumerable&lt;Toy&gt;
{
    public int Size { get; private set; }
    public int ToyCount { get { return _storage.Count; } }
    private List&lt;Toy&gt; _storage;

    public Bundle(int size)
    {
        Size = size;
        _storage = new List&lt;Toy&gt;(Size);
    }

    public bool TryAddToy(Toy t)
    {
        if (ToyCount &gt;= Size) return false;
        _storage.Add(t);
        return true;
    }
    // ...
</code></pre>
<p>Como puedes ver, existe un método llamado <code>TryAddToy</code> que nos ayudará a agregar un nuevo juguete al paquete, pero... ¿no sería genial que pudiéramos &quot;sumar&quot; juguetes y que de ellos resulte un paquete nuevo?</p>
<p>Es entonces cuando aparece nuevamente la sobrecarga de operadores como una alternativa que nos permite realizar lo que queremos. Los pasos a seguir son muy similares a sobrecargar los otros operadores, con la diferencia de que el tipo de retorno puede ser cualquiera:</p>
<pre><code class="language-csharp">public static Bundle operator +(Toy a, Toy b)
{
    Bundle bundle = new Bundle(2);
    bundle.TryAddToy(a);
    bundle.TryAddToy(b);
    return bundle;
}
</code></pre>
<p>Nuevamente <code>public static</code>, el tipo de retorno que en este caso es <code>Bundle</code>, la palabra <code>operator</code> y el operador a sobrecargar seguido de los dos parámetros (de los cuales al menos uno tiene que ser el tipo de dato en el que está definido).</p>
<p>Una vez hecho esto, podemos escribir código como el siguiente:</p>
<pre><code class="language-csharp">Bundle toyStoryBundle = buzzLightyear + woody;
Console.WriteLine(toyStoryBundle);
</code></pre>
<p>Y se compilará y ejecutará sin problema, dejando como resultado el siguiente:</p>
<pre>
Bundle (2/2) [Buzz, Woody]
</pre>
<p>Al igual que con la comparación, también podemos sumar objetos de distinto tipo, siempre prestando atención al orden de los parámetros, de tal manera que podemos definir sumas de este modo dentro de la clase <code>Bundle</code>:</p>
<pre><code class="language-csharp">public static Bundle operator +(Bundle bundle, Toy t)
{
    var newBundle = new Bundle(bundle.Size + 1);
    foreach (var toy in bundle)
    {
        newBundle.TryAddToy(toy);
    }
    newBundle.TryAddToy(t);
    return newBundle;
}

public static Bundle operator +(Toy t, Bundle bundle)
{
    if (!bundle.TryAddToy(t))
        throw new InvalidOperationException(&quot;Bundle is already full!&quot;);
    return bundle;
}
</code></pre>
<p>Como te puedes dar cuenta a pesar de que parece que se sobrecarga el mismo operador, los métodos realizan distintas acciones, que podemos probar con el siguiente código:</p>
<pre><code class="language-csharp">var findingNemoBundle = dory + marlin + nemo;
</code></pre>
<p>El orden de ejecución es el siguiente:</p>
<ol>
<li><code>dory + marlin</code> generan un nuevo <code>Bundle</code> de tamaño 2</li>
<li>A este nuevo bundle se le suma <code>nemo</code></li>
<li>Obtenemos un nuevo <code>Bundle</code> de tamaño 3</li>
</ol>
<p>Si quisieramos ejecutar algo como esto:</p>
<pre><code class="language-csharp">var findingNemoBundle = dory + (marlin + nemo);
</code></pre>
<p>Obtendríamos un nuevo orden de ejecución:</p>
<ol>
<li><code>marlin + nemo</code> generan un nuevo <code>Bundle</code> de tamaño 2</li>
<li>A este nuevo bundle se le suma <code>dory</code></li>
<li>Obtenemos una excepción ya que esta sobrecarga no permite añadir un juguete si el paquete ya no tiene espacio.</li>
</ol>
<h3 id="operadores-de-asignacion">Operadores de asignación</h3>
<p>Los operadores de asignación (<code>+=</code>, <code>/=</code>, ...) no son sobrecargables, pero dependein implícitamente de lo que hagas con los operadores binarios (<code>+</code>, <code>/</code>, ...)
ya que esto:</p>
<pre><code class="language-csharp">tortugasNinja += raph;
</code></pre>
<p>Se convierte en esto:</p>
<pre><code class="language-csharp">tortugasNinja = tortugasNinja + raph;
</code></pre>
<h2 id="un-consejo">Un consejo</h2>
<p>Sí la sobrecarga de operadores es fantástica y puede hacer que tu código se vea más limpio y con mayor contexto. Sin embargo, debes tener en cuenta que como todo en esta vida, debes usarlo con medida ya que en caso de abusar podrías hacer que el programa que estás haciendo se vuelva ilegible y poco mantenible.</p>
<p>Ah, y no olvides que el orden de los parámetros en la sobrecarga importa mucho.</p>


      </div>
  </article>




  </section>
</div>

  </section>
  <section class="sidebar" style="margin-left: 15px;">
<style type="text/css" media="screen">
.post-menu ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
</style>

<div class="post-menu">
  <div class="post-menu-title">TOC</div>
  <div class="post-menu-content"></div>
</div>

<script>
  function generateContent() {
    var menu = document.querySelector(".post-menu");
    var menuContent =  menu.querySelector(".post-menu-content");
    var headings = document.querySelector(".post-content").querySelectorAll("h2, h3, h4, h5, h6");

    // Hide menu when no headings
    if (headings.length === 0) {
      return menu.style.display = "none";
    }

    // Generate post menu
    var menuHTML = '';
    for (var i = 0; i < headings.length; i++) {
      var h = headings[i];
      menuHTML += (
        '<li class="h-' + h.tagName.toLowerCase() + '">'
        + '<a href="#h-' + h.getAttribute('id') + '">' + h.textContent + '</a></li>');
    }

    menuContent.innerHTML = '<ul>' + menuHTML + '</ul>';

    // The header element
    var header = document.querySelector('header.site-header');

    function doMenuCollapse(index, over_items) {
      var items = menuContent.firstChild.children;

      if (over_items == undefined) {
        over_items = 20;
      }

      if (items.length < over_items) {
        return;
      }

      var activeItem = items[index];
      var beginItem = activeItem
      var endItem = activeItem
      var beginIndex = index;
      var endIndex = index + 1;
      while (beginIndex >= 0
        && !items[beginIndex].classList.contains('h-h2')) {
        beginIndex -= 1;
      }
      while (endIndex < items.length
        && !items[endIndex].classList.contains('h-h2')) {
        endIndex += 1;
      }
      for (var i = 0; i < beginIndex; i++) {
        item = items[i]
        if (!item.classList.contains('h-h2')) {
          item.style.display = 'none';
        }
      }
      for (var i = beginIndex + 1; i < endIndex; i++) {
        item = items[i]
        // if (!item.classList.contains('h-h2')) {
          item.style.display = '';
        // }
      }
      for (var i = endIndex; i < items.length; i++) {
        item = items[i]
        if (!item.classList.contains('h-h2')) {
          item.style.display = 'none';
        }
      }
    }

    // Init menu collapsed
    doMenuCollapse(-1);

    // Active the menu item
    window.addEventListener('scroll', function (event) {
      var lastActive = menuContent.querySelector('.active');
      var changed = true;
      var activeIndex = -1;
      for (var i = headings.length - 1; i >= 0; i--) {
        var h = headings[i];
        var headingRect = h.getBoundingClientRect();
        var headerRect = header.getBoundingClientRect();
        var headerTop = Math.floor(headerRect.top);
        var headerHeight = Math.floor(headerRect.height);
        var headerHeight = headerTop + headerHeight + 20;
        if (headingRect.top <= headerHeight) {
          var id = 'h-' + h.getAttribute('id');
          var a = menuContent.querySelector('a[href="#' + id  + '"]');
          var curActive = a.parentNode;
          if (curActive) {
            curActive.classList.add('active');
            activeIndex = i;
          }
          if (lastActive == curActive) {
            changed = false;
          }
          break;
        }
      }
      if (changed) {
        if (lastActive) {
          lastActive.classList.remove('active');
        }
        doMenuCollapse(activeIndex);
      }
      event.preventDefault();
    });
  }
  generateContent();
</script>
  </section>
</div>

      </div>
    </main>

<footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">
    <div class="site-footer-inner">
      <div> </div>
      <div>Powered by <a title="Jekyll is a simple, blog-aware, static site
      generator." href="http://jekyllrb.com/">Jekyll</a> &amp; <a title="Yat, yet
      another theme." href="https://github.com/jeffreytse/jekyll-theme-yat">Yat Theme</a>.</div>
      <div class="footer-col rss-subscribe">Subscribe <a href="/feed.xml">via RSS</a></div>
    </div>
  </div>
</footer>

  </body>
</html>
